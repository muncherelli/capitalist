{{!< default}}
{{#post}}
<div class="lg:container mx-auto">
    <article class="{{post_class}}">
        <header>
            <span><time datetime="{{date format="YYYY-MM-DD"}}">{{date format="D MMM YYYY"}}</time> <span class="bull">&bull;</span> {{reading_time}}</span>
            <h1>{{title}}</h1>
            {{#if custom_excerpt}}
            <p>{{custom_excerpt}}</p>
            {{/if}}
            {{#if feature_image}}
            <figure>
                <img srcset="{{img_url feature_image size="s"}} 300w,
                        {{img_url feature_image size="m"}} 600w,
                        {{img_url feature_image size="l"}} 1000w,
                        {{img_url feature_image size="xl"}} 2000w"
                    sizes="(max-width: 1000px) 1000px, 2000px"
                    loading="lazy"
                    src="{{img_url feature_image size="xl"}}"
                    alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}" />
                {{#if feature_image_caption}}
                <figcaption>{{feature_image_caption}}</figcaption>
                {{/if}}
            </figure>
            {{/if}}
        </header>
        <div class="prose dark:prose-invert md:prose-lg lg:prose-xl max-w-none [&>h2]:px-4 lg:[&>h2]:p-0 [&>h3]:px-4 lg:[&>h3]:p-0 [&>p]:px-4 lg:[&>p]:p-0 lg:[&>figure>img]:rounded-md">
            {{content}}
        </div>
        <footer>
            {{!-- <div class="gh-post-authors">
                Written by {{#foreach authors}}<a href="{{url}}">{{name}}</a>{{/foreach}}
            </div> --}}
            <section>
                {{#if @custom.discourse_url}}
                <div id='discourse-comments'></div>
                <script type="text/javascript">
                    if (window.location.pathname.indexOf('/p/') < 0) {
                        DiscourseEmbed = {
                            discourseUrl: '{{@custom.discourse_url}}',
                            discourseEmbedUrl: '{{url absolute="true"}}'
                        };
                        (function() {
                            var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
                            d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
                        })();
                    }
                </script>
                {{/if}}
            </section>
        </footer>
    </article>
</div>{{/post}}